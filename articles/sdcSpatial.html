<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introducing sdcSpatial • sdcSpatial</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introducing sdcSpatial">
<meta property="og:description" content="sdcSpatial">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sdcSpatial</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.5.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/sdcSpatial.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/edwindj/sdcSpatial/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="sdcSpatial_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Introducing sdcSpatial</h1>
            <h3 data-toc-skip class="subtitle">Privacy protected density maps</h3>
            
      
      <small class="dont-index">Source: <a href="https://github.com/edwindj/sdcSpatial/blob/HEAD/vignettes/sdcSpatial.Rmd" class="external-link"><code>vignettes/sdcSpatial.Rmd</code></a></small>
      <div class="hidden name"><code>sdcSpatial.Rmd</code></div>

    </div>

    
    
<p>Plotting data on a map is a popular and helpful tool to analyze spatial data. R makes it easy to plot spatial data with packages such as <code>ggplot2</code>, <code>tmap</code>, <code>mapview</code> or <code>leaflet</code>. However when plotting the spatial distribution of a <em>sensitive</em> variable, e.g. income or unemployment, you may accidentally reveal a sensitive value of an individual observation. <em>Statistical disclosure control</em> (SDC) deals with problems related to privacy in connection with publishing statistics. SDC provides measures to assess disclosure risk and methods to reduce disclosure risk in publications while trying to minimize information loss.</p>
<p>Several open source tools are available; see <a href="https://github.com/sdcTools" class="external-link">sdcTools</a> for a collection of them. Commonly used tools include the standalone software tools <a href="http://research.cbs.nl/casc/mu.htm" class="external-link"><span class="math inline">\(\mu\)</span>-argus</a> and <a href="http://research.cbs.nl/casc/tau.htm" class="external-link"><span class="math inline">\(\tau\)</span>-argus</a> as well as the R-packages <a href="https://cran.r-project.org/package=sdcTable" class="external-link">sdcTable</a> and <a href="https://cran.r-project.org/package=sdcMicro" class="external-link">sdcMicro</a>.</p>
<p>Traditionally, SDC software operates on values of (aggregated) records, where it does not directly make use of spatial characteristics that might be present in the data.</p>
<p><code>sdcSpatial</code> contains functions to create spatial distribution maps, assess the risk of disclosure in locations on the map and to suppress or adjust locations with revealing sensitive values.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/edwindj/sdcSpatial" class="external-link">sdcSpatial</a></span><span class="op">)</span></code></pre></div>
<div class="section level2">
<h2 id="data">Data<a class="anchor" aria-label="anchor" href="#data"></a>
</h2>
<p><code>sdcSpatial</code> contains two simulated datasets with realistic locations: <code>dwellings</code> and <code>enterprises</code>. Lets have a look at the dataset <code>enterprises</code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"enterprises"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/raster/man/headtail.html" class="external-link">head</a></span><span class="op">(</span><span class="va">enterprises</span><span class="op">)</span>
<span class="co">#&gt; Loading required package: sp</span>
<span class="co">#&gt;       coordinates production fined</span>
<span class="co">#&gt; 1 (80782, 448985)   408.8129 FALSE</span>
<span class="co">#&gt; 2 (81007, 448947)   587.0074 FALSE</span>
<span class="co">#&gt; 3 (81042, 448875)   566.2759 FALSE</span>
<span class="co">#&gt; 4 (81003, 448940)   581.8662 FALSE</span>
<span class="co">#&gt; 5 (80886, 448804)   854.1555 FALSE</span>
<span class="co">#&gt; 6 (80986, 448934)   624.2627 FALSE</span></code></pre></div>
<p><code>enterprises</code> is a <code>SpatialPointsDataFrame</code> object, but <code>sdc_raster</code> works equally well with <code>sf</code> and <code>data.frame</code> objects with point data (locations).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">enterprises</span><span class="op">)</span>
<span class="co">#&gt; Object of class SpatialPointsDataFrame</span>
<span class="co">#&gt; Coordinates:</span>
<span class="co">#&gt;      min    max</span>
<span class="co">#&gt; x  68507  82498</span>
<span class="co">#&gt; y 440024 448999</span>
<span class="co">#&gt; Is projected: TRUE </span>
<span class="co">#&gt; proj4string :</span>
<span class="co">#&gt; [+init=epsg:28992 +proj=sterea +lat_0=52.15616055555555</span>
<span class="co">#&gt; +lon_0=5.38763888888889 +k=0.9999079 +x_0=155000 +y_0=463000</span>
<span class="co">#&gt; +ellps=bessel</span>
<span class="co">#&gt; +towgs84=565.2369,50.0087,465.658,-0.406857,0.350733,-1.87035,4.0812</span>
<span class="co">#&gt; +units=m +no_defs]</span>
<span class="co">#&gt; Number of points: 8348</span>
<span class="co">#&gt; Data attributes:</span>
<span class="co">#&gt;    production          fined        </span>
<span class="co">#&gt;  Min.   :    59.46   Mode :logical  </span>
<span class="co">#&gt;  1st Qu.:  1019.98   FALSE:7931     </span>
<span class="co">#&gt;  Median :  1954.32   TRUE :417      </span>
<span class="co">#&gt;  Mean   :  3249.59                  </span>
<span class="co">#&gt;  3rd Qu.:  3901.44                  </span>
<span class="co">#&gt;  Max.   :114467.56</span></code></pre></div>
<p><code>enterprises</code> contains two simulated variables: <code>production</code> (numeric) and <code>fined</code> (logical), and we are interested in their spatial distribution.</p>
</div>
<div class="section level2">
<h2 id="view-the-data">View the data<a class="anchor" aria-label="anchor" href="#view-the-data"></a>
</h2>
<p>Let’s first plot the locations of enterprises:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">sp</span><span class="fu">::</span><span class="fu">plot</span><span class="op">(</span><span class="va">enterprises</span><span class="op">)</span></code></pre></div>
<p><img src="sdcSpatial_files/figure-html/unnamed-chunk-4-1.png" width="100%"> There are many locations and a lot of over-plotting or <em>occlusion</em> is taking place: a better visualization method to reveal spatial patterns in this case is to create a raster or density plot. Since we are interested in the spatial distribution of <code>production</code> we would like to rasterize the data, which can be done with <code><a href="https://rdrr.io/pkg/raster/man/rasterize.html" class="external-link">raster::rasterize</a></code> or <code>ggplot2::geom_tile</code> but for didactic sake we use <code>sdc_raster</code> to create a raster map with a 500m grid.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">production</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sdc_raster.html">sdc_raster</a></span><span class="op">(</span><span class="va">enterprises</span>, <span class="st">"production"</span>, r <span class="op">=</span> <span class="fl">500</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/raster/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">production</span>, value<span class="op">=</span><span class="st">"mean"</span>, sensitive<span class="op">=</span><span class="cn">FALSE</span>, main<span class="op">=</span><span class="st">"mean production"</span><span class="op">)</span></code></pre></div>
<p><img src="sdcSpatial_files/figure-html/unnamed-chunk-5-1.png" width="100%"> We have plotted the mean production, other stats are kept in the <code>production$value</code> object:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">raster</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/raster/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">production</span><span class="op">$</span><span class="va">value</span><span class="op">[[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></code></pre></div>
<p><img src="sdcSpatial_files/figure-html/unnamed-chunk-6-1.png" width="100%"></p>
<p>The important question is:</p>
<blockquote>
<p>Can we publish this map or does it contain sensitive values?</p>
</blockquote>
</div>
<div class="section level2">
<h2 id="sensitive-locations">Sensitive locations<a class="anchor" aria-label="anchor" href="#sensitive-locations"></a>
</h2>
<p>Let us see how many of the values are sensitive:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">production</span><span class="op">)</span>
<span class="co">#&gt; numeric sdc_raster object: </span>
<span class="co">#&gt;    resolution: 500 500 ,  max_risk: 0.95 , min_count: 10 </span>
<span class="co">#&gt;    mean sensitivity score [0,1]:  0.6432039</span></code></pre></div>
<p>Printing the <code>production</code> object shows that when we demand that a raster cell should at least have 10 observations (<code>min_count</code>) and its value should not be dominated by one enterprise (<code>max_risk</code>), then 64% of the data in the map is sensitive!</p>
<p>For a 500m by 500m block a threshold of 10 enterprises is on the high side, so let us change that into 5:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">production</span><span class="op">$</span><span class="va">min_count</span> <span class="op">&lt;-</span> <span class="fl">5</span>
<span class="va">production</span><span class="op">$</span><span class="va">max_risk</span> <span class="op">&lt;-</span> <span class="fl">0.9</span>
<span class="co"># or equally </span>
<span class="va">production</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sdc_raster.html">sdc_raster</a></span><span class="op">(</span><span class="va">enterprises</span>, <span class="st">"production"</span>
                        , r <span class="op">=</span> <span class="fl">500</span>, min_count <span class="op">=</span> <span class="fl">5</span>, max_risk <span class="op">=</span> <span class="fl">0.9</span><span class="op">)</span>
<span class="fu"><a href="../reference/sensitivity_score.html">sensitivity_score</a></span><span class="op">(</span><span class="va">production</span><span class="op">)</span>
<span class="co">#&gt; [1] 0.3567961</span></code></pre></div>
<p>The score dropped, but which cells are we talking about?</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/pkg/raster/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">production</span><span class="op">)</span></code></pre></div>
<p><img src="sdcSpatial_files/figure-html/unnamed-chunk-9-1.png" width="100%"></p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sensitive_cells</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/is_sensitive.html">is_sensitive</a></span><span class="op">(</span><span class="va">production</span><span class="op">)</span></code></pre></div>
<p><code>sensitive_cells</code> is a <code>raster</code> which can be used for further inspection.</p>
</div>
<div class="section level2">
<h2 id="reducing-sensitivity">Reducing sensitivity<a class="anchor" aria-label="anchor" href="#reducing-sensitivity"></a>
</h2>
<p>Let us try to reduce the sensitivity of the map using a smoothing method:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">production_smoothed</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/protect_smooth.html">protect_smooth</a></span><span class="op">(</span><span class="va">production</span>, bw <span class="op">=</span> <span class="fl">500</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/raster/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">production_smoothed</span><span class="op">)</span></code></pre></div>
<p><img src="sdcSpatial_files/figure-html/unnamed-chunk-10-1.png" width="100%"> In this case smoothing reduced the number of sensitive locations drastically!</p>
<p>Let us remove the remaining sensitive cells</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">production_safe</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/remove_sensitive.html">remove_sensitive</a></span><span class="op">(</span><span class="va">production_smoothed</span><span class="op">)</span>
<span class="fu"><a href="../reference/sensitivity_score.html">sensitivity_score</a></span><span class="op">(</span><span class="va">production_safe</span><span class="op">)</span> <span class="co"># check, double check</span>
<span class="co">#&gt; [1] 0</span></code></pre></div>
<p>We can improve upon the “blocky” map by using <code><a href="https://rdrr.io/pkg/raster/man/disaggregate.html" class="external-link">raster::disaggregate</a></code>. We can plot the following:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mean_production</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">production_safe</span><span class="op">)</span>
<span class="va">mean_production</span> <span class="op">&lt;-</span> <span class="fu">raster</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/raster/man/disaggregate.html" class="external-link">disaggregate</a></span><span class="op">(</span><span class="va">mean_production</span>, <span class="fl">10</span>, <span class="st">"bilinear"</span><span class="op">)</span>
<span class="co"># generated with R &gt;= 3.6</span>
<span class="co"># col &lt;- hcl.colors(10, "YlOrRd", rev = TRUE)</span>
<span class="va">col</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#FFFFC8"</span>, <span class="st">"#FEF1B2"</span>, <span class="st">"#FADC8A"</span>, <span class="st">"#F7C252"</span>, <span class="st">"#F5A400"</span>, <span class="st">"#F18000"</span>, 
         <span class="st">"#EB5500"</span>, <span class="st">"#D12D00"</span>, <span class="st">"#A90D00"</span>, <span class="st">"#7D0025"</span><span class="op">)</span>
<span class="fu">raster</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/raster/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mean_production</span>, col<span class="op">=</span><span class="va">col</span><span class="op">)</span></code></pre></div>
<p><img src="sdcSpatial_files/figure-html/unnamed-chunk-12-1.png" width="100%"></p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># library(leaflet)</span>
<span class="co"># leaflet() %&gt;% </span>
<span class="co">#   leaflet::addTiles() %&gt;% </span>
<span class="co">#   leaflet::addRasterImage(mean_production, colors = col, opacity = 0.5)</span></code></pre></div>
<p><code>protect_quadtree</code> is also a protecting method, which we demonstrate with the variable <code>fined</code>.</p>
<p>First we create a more fine grained (pun not intended) raster for the variable <code>fined</code>.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">fined</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sdc_raster.html">sdc_raster</a></span><span class="op">(</span><span class="va">enterprises</span>, <span class="st">"fined"</span>, min_count <span class="op">=</span> <span class="fl">5</span>, r <span class="op">=</span> <span class="fl">200</span>, max_risk <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">fined</span><span class="op">)</span>
<span class="co">#&gt; logical sdc_raster object: </span>
<span class="co">#&gt;    resolution: 200 200 ,  max_risk: 0.8 , min_count: 5 </span>
<span class="co">#&gt;    mean sensitivity score [0,1]:  0.7802503</span></code></pre></div>
<p>Which is rather sensitive, let us have a look at the locations:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># col &lt;- hcl.colors(10, rev=TRUE) # generated with R &gt;= 3.6</span>
<span class="va">col</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#FDE333"</span>, <span class="st">"#BBDD38"</span>, <span class="st">"#6CD05E"</span>, <span class="st">"#00BE7D"</span>, <span class="st">"#00A890"</span>
        , <span class="st">"#008E98"</span>,  <span class="st">"#007094"</span>, <span class="st">"#185086"</span>, <span class="st">"#422C70"</span>, <span class="st">"#4B0055"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/raster/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">fined</span>, <span class="st">"mean"</span>, col<span class="op">=</span><span class="va">col</span><span class="op">)</span></code></pre></div>
<p><img src="sdcSpatial_files/figure-html/unnamed-chunk-14-1.png" width="100%"></p>
<p>The quadtree method aggregates sensitive cells with its 3 neighbors and does this recursively: the result is as follows:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">fined_qt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/protect_quadtree.html">protect_quadtree</a></span><span class="op">(</span><span class="va">fined</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/raster/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">fined_qt</span>, col<span class="op">=</span><span class="va">col</span><span class="op">)</span></code></pre></div>
<p><img src="sdcSpatial_files/figure-html/unnamed-chunk-15-1.png" width="100%"> which has a sensitivity score of 0.</p>
<p>The method has the advantage of locally selecting the necessary resolution to suppress sensitive values, while the <code>protect_smooth</code> method uses a fixed bandwidth.</p>
<p>The protection result is blocky in comparison with the smoothing method, but safer if you look at the sensitive cells in high fined areas.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">fined_smooth</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/protect_smooth.html">protect_smooth</a></span><span class="op">(</span><span class="va">fined</span>, bw <span class="op">=</span> <span class="fl">500</span>, keep_resolution<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/raster/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">fined_smooth</span>, col <span class="op">=</span> <span class="va">col</span><span class="op">)</span></code></pre></div>
<p><img src="sdcSpatial_files/figure-html/unnamed-chunk-16-1.png" width="100%"></p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/sensitivity_score.html">sensitivity_score</a></span><span class="op">(</span><span class="va">fined_smooth</span><span class="op">)</span>
<span class="co">#&gt; [1] 0</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="thanks-to-raster">Thanks to <code>raster</code><a class="anchor" aria-label="anchor" href="#thanks-to-raster"></a>
</h2>
<p><code>sdcSpatial</code> builds heavily upon the excellent <a href="https://cran.r-project.org/package=raster" class="external-link">raster</a> package: it creates <code>raster</code> maps and uses the machinery of <code>raster</code> to calculate sensitivity and to apply protection methods to raster maps.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Edwin de Jonge, Peter-Paul de Wolf.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
